@using RentalsWebApp.ViewModels
@model BillingViewModel

@{
    ViewData["Title"] = "Payment History";
}

<!-- Billing history card-->
<div class="card mb-4">
    <div class="card-header">Billing History</div>
    <div class="card-body p-0">
        <!-- Billing history table-->
        <div class="table-responsive table-billing-history">
            <table class="table mb-0">
                <thead>
                    <tr>
                        <th class="border-gray-200" scope="col">Transaction ID</th>
                        <th class="border-gray-200" scope="col">Date</th>
                        <th class="border-gray-200" scope="col">Amount</th>
                        <th class="border-gray-200" scope="col">Status</th>
                        <th class="border-gray-200" scope="col">Download POP</th>

                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>#39201</td>
                        <td>04/01/2021</td>
                        <td>R3582.14</td>
                        <td><span class="badge bg-light text-dark">Pending</span></td>
                       
                    </tr>
                    <tr>
                        <td>#38594</td>
                        <td>03/01/2021</td>
                        <td>R2729.99</td>
                        <td><span class="badge bg-success">Paid</span></td>
                        <td><a class="btn btn-sm btn-outline-primary" asp-controller="Billing" asp-action="DownloadProofOfPayment" target="__self">Download POP</a></td>
                    </tr>
                    <tr>
                        <td>#38223</td>
                        <td>02/01/2021</td>
                        <td>5869.78</td>
                        <td><span class="badge bg-success">Paid</span></td>
                        <td><a class="btn btn-sm btn-outline-primary" asp-controller="Billing" asp-action="DownloadProofOfPayment" target="__self">Download POP</a></td>
                    </tr>
                    <tr>
                        <td>#38125</td>
                        <td>01/01/2021</td>
                        <td>4229.00</td>
                        <td><span class="badge bg-success">Paid</span></td>
                        <td><a class="btn btn-sm btn-outline-primary" asp-controller="Billing" asp-action="DownloadProofOfPayment" target="__self">Download POP</a></td>
                    </tr>
                </tbody>
            </table>
        </div>
        @if (User.Identity.IsAuthenticated && User.IsInRole("admin"))
        {
            <button class="btn btn-primary" type="button">Save changes</button>
            <a asp-controller="Dashboard" asp-action="Index" class="btn btn-sm btn-outline-primary">Cancel</a>

        }
        else if (User.Identity.IsAuthenticated && User.IsInRole("tenant"))
        {
            <a class="btn btn-sm btn-outline-primary" asp-controller="Billing" asp-action="Index" asp-route-id="@Model.UserId">Back</a>
        }
    </div>
</div>
